<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="styles.css">
	</head>

	<body>
		<button id="btn">clear</button>
		<div id="container"></div>

	</body>

	<script>
		const container = document.getElementById("container");

		generateGrid(16);
		hoverStyle();
		
		const btn = document.querySelector("#btn");

		btn.addEventListener("click", () => {
			clearDOM();
		});

		btn.addEventListener("click", () => {
			let userInput = prompt("How many squares per side do you want on the grid?", "Max = 100");
			let input = parseInt(userInput);
			console.log(input);
			
			if (isNaN(input)){

				alert("You should input only numbers");
				generateGrid(16);
				hoverStyle();

			}else if (input <= 100) {

				generateGrid(input);
				hoverStyle();

			} else if (input > 100) {

				alert("Maximum size is 100, try again.");
				generateGrid(16);
				hoverStyle();

			}
		});
	
	function generateGrid(n) {
		let i = 0;
		let counter = n * n;
		let size = (960-n)/n;

		do {
			const div = document.createElement('div');
			div.setAttribute('class', 'square');
			container.appendChild(div);
			i++;

		} while (i < counter)
	
		const squares = document.querySelectorAll(".square");

		squares.forEach(square => {
			square.setAttribute('style', `width: ${size}px; height: ${size}px`);
			});

	}

	function clearDOM() {
		const squares = document.querySelectorAll(".square");

		squares.forEach(square => {
			container.removeChild(square);
		});
	}

	function hoverStyle() {
		const squares = document.querySelectorAll(".square");

		squares.forEach(square => {
			square.addEventListener("mousemove", () => {
			square.style.backgroundColor = 'blue';
			console.log("mouse hover");
			});
		});
	}

	</script>
</html>